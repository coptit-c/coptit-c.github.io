<!doctype html>
<html>

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="COPTIT">
    <meta name="description" content="Club of Programmers, Technocrats Institute of Technology">

    <title>Join - COPTIT</title>

    <link rel="icon" href="../images/favicon.png" type="image/png">

    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="./join.css">

</head><!-- head -->

<body class="container full-height-grow">

    <header class="main-header">

        <a href="/" class="main-logo">
            <img src="../images/brand-logo.png" alt="logo" style="height: 60px;">
            <div class="main-logo-text">COPTIT</div>
        </a>

        <nav class="main-nav">
            <ul>
                <li><a href="https://discord.gg/uWZQP7q3UJ" target="_blank" class="discord-up">Discord</a></li>
                <li><a href="https://github.com/coptit" class="github-up">GitHub</a></li>
            </ul>
        </nav>
    </header><!-- header -->

    <section class="join-main-section">
        <div class="join-all">
            <h1 class="join-text title"><span class="selection">Join the </span><span class="gradient">Community</span>
            </h1>
            <span class="subtitle join-des selection">Get updated on every fun and exciting activity and take part in
                innovative
                and collaborative githubs and contests.</span>
        </div>

        <form class="join-form" method="post" autocomplete="off" name="google-sheet">
            <div class="input">
                <input type="text" name="First Name" class="form-control" value="" required=""
                    placeholder="First Name" />
            </div>
            <div class="input">
                <input type="text" name="Last Name" class="form-control" value="" required="" placeholder="Last Name" />
            </div>
            <div class="input">
                <input type="text" name="TIT" class="form-control" placeholder="Collage (M/E/S/C)" value="" required="" />
            </div>
            <div class="input">
                <input type="email" name="Email" class="form-control" value="" required="" placeholder="Email" />
            </div>
            <div class="input">
                <button type="submit" class="btn">Join Now</button>
            </div>
        </form>

    </section>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbxB9KoVN8WLfu1t2RipSQMgrBszgIOxXFtWsd5cONkWOYy_UpkYZauzoEMjmWbvpmbs/exec'

        const form = document.forms['google-sheet']

        form.addEventListener('submit', e => {
            let btnSend = document.querySelector('button');
            btnSend.innerText = 'Wait a sec, Joining...';
            btnSend.style.cursor = 'progress';
            e.preventDefault()
            fetch(scriptURL, { method: 'POST', body: new FormData(form) })
                .then(response => alert("Thanks for joining!"))
                .catch(error => console.error('Error!', error.message))
            setTimeout(() => {
                btnSend.innerText = 'Joined';
                btnSend.style.cursor = 'pointer';
                btnSend.style.backgroundColor = `#90EE90`;
                btnSend.style.border = `1px solid white`;
                btnSend.style.color = `black`;
                btnSend.style.pointerEvents = `none`;
            }, 3000);
        })
    </script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

</body><!-- body -->

</html>